-- // Karker Hub v2.5 // --
-- Loading Screen w/ Snow + Better Minimize
-- Created by YOUNG

-- // Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local StarterGui = game:GetService("StarterGui")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer

-- // Notification
StarterGui:SetCore("SendNotification", {
    Title = "Welcome!",
    Text = "Welcome " .. player.Name .. " to Karker Hub",
    Duration = 5
})

-- // Loading Screen
local loadingGui = Instance.new("ScreenGui", player.PlayerGui)
loadingGui.ResetOnSpawn = false

local bg = Instance.new("Frame", loadingGui)
bg.Size = UDim2.new(1, 0, 1, 0)
bg.BackgroundColor3 = Color3.fromRGB(20, 20, 20)

local loadingText = Instance.new("TextLabel", bg)
loadingText.Size = UDim2.new(1, 0, 0, 100)
loadingText.Position = UDim2.new(0, 0, 0.4, 0)
loadingText.BackgroundTransparency = 1
loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingText.Font = Enum.Font.GothamBold
loadingText.TextSize = 28
loadingText.Text = ""

-- Snow container
local snowFolder = Instance.new("Folder", bg)

-- Snowfall effect
task.spawn(function()
    while bg.Parent do
        local snow = Instance.new("Frame", snowFolder)
        snow.Size = UDim2.new(0, math.random(3, 6), 0, math.random(3, 6))
        snow.Position = UDim2.new(math.random(), 0, -0.1, 0)
        snow.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        snow.BackgroundTransparency = 0.2
        snow.BorderSizePixel = 0
        snow.ZIndex = 10

        local xOffset = math.random(-50, 50)
        local fallTween = TweenService:Create(snow, TweenInfo.new(math.random(3, 6)), {
            Position = UDim2.new(snow.Position.X.Scale, xOffset, 1.1, 0),
            BackgroundTransparency = 1
        })
        fallTween:Play()
        game:GetService("Debris"):AddItem(snow, 6)

        task.wait(0.1)
    end
end)

-- Typewriter
local message = "THANKS FOR CHOOSING KARKER HUB WHERE ANYONE GETS STEAL AND DONT EVEN NOTICE!!!"
task.spawn(function()
    for i = 1, #message do
        loadingText.Text = string.sub(message, 1, i)
        task.wait(0.05)
    end
    task.wait(2)
    -- Fade out loading
    TweenService:Create(bg, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
    TweenService:Create(loadingText, TweenInfo.new(1), {TextTransparency = 1}):Play()
    for _, snow in ipairs(snowFolder:GetChildren()) do
        TweenService:Create(snow, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
    end
    task.wait(1.2)
    loadingGui:Destroy()
end)

-- // Main GUI
local mainGui = Instance.new("ScreenGui", player.PlayerGui)
mainGui.ResetOnSpawn = false

local frame = Instance.new("Frame", mainGui)
frame.Size = UDim2.new(0, 400, 0, 250)
frame.Position = UDim2.new(0.5, -200, 0.5, -125)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Visible = false
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

-- Slide in after loading
task.wait(4.5)
frame.Visible = true
frame.Position = UDim2.new(0.5, -200, 1, 0)
TweenService:Create(frame, TweenInfo.new(1, Enum.EasingStyle.Quint), {Position = UDim2.new(0.5, -200, 0.5, -125)}):Play()

-- Title
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, -40, 0, 40)
title.Position = UDim2.new(0, 10, 0, 5)
title.BackgroundTransparency = 1
title.Text = "Karker Hub"
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 24
title.TextXAlignment = Enum.TextXAlignment.Left

-- Minimize Button
local minimize = Instance.new("TextButton", frame)
minimize.Size = UDim2.new(0, 30, 0, 30)
minimize.Position = UDim2.new(1, -35, 0, 5)
minimize.Text = "-"
minimize.Font = Enum.Font.GothamBold
minimize.TextSize = 20
minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
minimize.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
Instance.new("UICorner", minimize).CornerRadius = UDim.new(0, 6)

local minimized = false
local fullSize = UDim2.new(0, 400, 0, 250)
local miniSize = UDim2.new(0, 400, 0, 40)

minimize.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        for _, child in ipairs(frame:GetChildren()) do
            if child:IsA("TextButton") and child ~= minimize then
                child.Visible = false
            end
        end
        TweenService:Create(frame, TweenInfo.new(0.5), {Size = miniSize}):Play()
    else
        for _, child in ipairs(frame:GetChildren()) do
            if child:IsA("TextButton") and child ~= minimize then
                child.Visible = true
            end
        end
        TweenService:Create(frame, TweenInfo.new(0.5), {Size = fullSize}):Play()
    end
end)

-- Buttons
local function createButton(text, yPos)
    local button = Instance.new("TextButton", frame)
    button.Size = UDim2.new(0.9, 0, 0, 40)
    button.Position = UDim2.new(0.05, 0, 0, yPos)
    button.Text = text
    button.Font = Enum.Font.Gotham
    button.TextSize = 18
    button.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

    -- Hover animation
    button.MouseEnter:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(55, 55, 55)}):Play()
    end)
    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(35, 35, 35)}):Play()
    end)

    return button
end

local btn1 = createButton("Creator Tab", 60)
local btn2 = createButton("Executor", 110)
local btn3 = createButton("Credits", 160)

-- Button actions
btn1.MouseButton1Click:Connect(function()
    btn1.Text = "Creator Tab (6-7)"
end)

btn2.MouseButton1Click:Connect(function()
    StarterGui:SetCore("SendNotification", {
        Title = "Executor",
        Text = "This is where scripts run.",
        Duration = 3
    })
end)

btn3.MouseButton1Click:Connect(function()
    StarterGui:SetCore("SendNotification", {
        Title = "Credits",
        Text = "Created by YOUNG",
        Duration = 4
    })
end)
