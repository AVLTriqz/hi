--[[ 
    ⚡ YHub Premium v15 
    Full Edition with Loader, Fake Key System, and Premium Hub
    Made by YOUNG ⚡
]]

--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

--// Config
local TASER_NAME = "Taser Gun"
local AUTO_TASE_RADIUS = 14
local HUB_WIDTH, HUB_HEIGHT = 350, 200
local autoTaseEnabled = false
local auraPart, fovCircle

--// Sounds
local hoverSound = Instance.new("Sound", PlayerGui)
hoverSound.SoundId = "rbxassetid://9118825481"
hoverSound.Volume = 0.3

local clickSound = Instance.new("Sound", PlayerGui)
clickSound.SoundId = "rbxassetid://9118831569"
clickSound.Volume = 0.4

--// Utility
local function equipTaser()
    local tool = ReplicatedStorage:FindFirstChild(TASER_NAME)
    if tool then
        local backpack = LocalPlayer:WaitForChild("Backpack")
        if not backpack:FindFirstChild(TASER_NAME) then
            tool:Clone().Parent = backpack
        end
    end
end

-- Aura around player
local function createAura()
    if auraPart then auraPart:Destroy() end
    local part = Instance.new("Part")
    part.Size = Vector3.new(AUTO_TASE_RADIUS*2, AUTO_TASE_RADIUS*2, AUTO_TASE_RADIUS*2)
    part.Anchored = true
    part.CanCollide = false
    part.Material = Enum.Material.Neon
    part.Shape = Enum.PartType.Ball
    part.Transparency = 0.6
    part.Parent = workspace
    auraPart = part
    spawn(function()
        local t = 0
        while auraPart and auraPart.Parent do
            t = t + 0.01
            auraPart.Color = Color3.fromHSV(t%1,0.95,0.95)
            local char = LocalPlayer.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                auraPart.CFrame = char.HumanoidRootPart.CFrame
            end
            RunService.RenderStepped:Wait()
        end
    end)
end

-- Rainbow FOV circle
local function createFOVCircle()
    if fovCircle then fovCircle:Destroy() end
    local part = Instance.new("Part")
    part.Anchored = true
    part.CanCollide = false
    part.Size = Vector3.new(AUTO_TASE_RADIUS*2,0.2,AUTO_TASE_RADIUS*2)
    part.Material = Enum.Material.Neon
    part.Transparency = 0.5
    part.Shape = Enum.PartType.Cylinder
    part.Parent = workspace
    part.CFrame = CFrame.new(Vector3.new(0,0,0)) * CFrame.Angles(math.rad(90),0,0)
    fovCircle = part
    spawn(function()
        local t = 0
        while fovCircle and fovCircle.Parent do
            t = t + 0.01
            fovCircle.Color = Color3.fromHSV(t%1,0.95,0.95)
            local char = LocalPlayer.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                fovCircle.CFrame = CFrame.new(char.HumanoidRootPart.Position + Vector3.new(0,0.3,0)) * CFrame.Angles(math.rad(90),0,0)
            end
            RunService.RenderStepped:Wait()
        end
    end)
end

-- Auto-tase
local function autoTaseLoop()
    spawn(function()
        while true do
            RunService.RenderStepped:Wait()
            if autoTaseEnabled then
                local char = LocalPlayer.Character
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                if hrp then
                    if not auraPart then createAura() end
                    if not fovCircle then createFOVCircle() end
                    local taser = LocalPlayer.Backpack:FindFirstChild(TASER_NAME) or (char and char:FindFirstChild(TASER_NAME))
                    if taser then
                        for _,pl in ipairs(Players:GetPlayers()) do
                            if pl ~= LocalPlayer and pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") then
                                local otherHRP = pl.Character.HumanoidRootPart
                                if (hrp.Position - otherHRP.Position).Magnitude <= AUTO_TASE_RADIUS then
                                    taser:Activate()
                                end
                            end
                        end
                    end
                end
            else
                if auraPart then auraPart:Destroy(); auraPart=nil end
                if fovCircle then fovCircle:Destroy(); fovCircle=nil end
            end
        end
    end)
end

--// GUI
local screenGui = Instance.new("ScreenGui", PlayerGui)
screenGui.IgnoreGuiInset = true

-- Main Hub
local hub = Instance.new("Frame", screenGui)
hub.Size = UDim2.new(0,HUB_WIDTH,0,HUB_HEIGHT)
hub.Position = UDim2.new(0.5,-HUB_WIDTH/2,0.5,-HUB_HEIGHT/2)
hub.BackgroundColor3 = Color3.fromRGB(28,28,38)
hub.Visible = false
Instance.new("UICorner", hub).CornerRadius = UDim.new(0,20)
local hubStroke = Instance.new("UIStroke", hub)
hubStroke.Thickness = 2
hubStroke.Color = Color3.fromRGB(90,200,255)

-- Title
local title = Instance.new("TextLabel", hub)
title.Size = UDim2.new(1,0,0,40)
title.BackgroundTransparency = 1
title.Text = "⚡ YHub Premium"
title.Font = Enum.Font.GothamBold
title.TextSize = 26
title.TextColor3 = Color3.fromRGB(255,255,255)

-- Toggle Button
local toggleBtn = Instance.new("TextButton", hub)
toggleBtn.Size = UDim2.new(0.6,0,0.25,0)
toggleBtn.Position = UDim2.new(0.2,0,0.45,0)
toggleBtn.Text = "AUTO-TASE: OFF"
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 20
toggleBtn.BackgroundColor3 = Color3.fromRGB(70,70,90)
Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0,12)

toggleBtn.MouseEnter:Connect(function() TweenService:Create(toggleBtn,TweenInfo.new(0.2),{BackgroundColor3=Color3.fromRGB(90,90,110)}):Play(); hoverSound:Play() end)
toggleBtn.MouseLeave:Connect(function() TweenService:Create(toggleBtn,TweenInfo.new(0.2),{BackgroundColor3=Color3.fromRGB(70,70,90)}):Play() end)
toggleBtn.MouseButton1Click:Connect(function()
    autoTaseEnabled = not autoTaseEnabled
    toggleBtn.Text = "AUTO-TASE: "..(autoTaseEnabled and "ON" or "OFF")
    clickSound:Play()
end)

-- Orb Toggle
local orb = Instance.new("ImageButton", screenGui)
orb.Size = UDim2.new(0,50,0,50)
orb.Position = UDim2.new(0,20,0.7,0)
orb.BackgroundTransparency = 1
orb.Image = "rbxassetid://11293943056" -- glowing orb
orb.Visible = false

local orbTweening = false
local function toggleHub()
    if orbTweening then return end
    orbTweening = true
    if hub.Visible then
        TweenService:Create(hub,TweenInfo.new(0.4),{Position=UDim2.new(0.5,-HUB_WIDTH/2,1.2,0)}):Play()
        task.wait(0.4)
        hub.Visible = false
    else
        hub.Position = UDim2.new(0.5,-HUB_WIDTH/2,1.2,0)
        hub.Visible = true
        TweenService:Create(hub,TweenInfo.new(0.4),{Position=UDim2.new(0.5,-HUB_WIDTH/2,0.5,-HUB_HEIGHT/2)}):Play()
    end
    orbTweening = false
end

orb.MouseButton1Click:Connect(function()
    clickSound:Play()
    toggleHub()
end)

--// Loader + Fake Key System
local loader = Instance.new("Frame", screenGui)
loader.Size = UDim2.new(1,0,1,0)
loader.BackgroundColor3 = Color3.fromRGB(10,10,15)

local logo = Instance.new("TextLabel", loader)
logo.AnchorPoint = Vector2.new(0.5,0.5)
logo.Position = UDim2.new(0.5,0,0.3,0)
logo.Size = UDim2.new(0.8,0,0.1,0)
logo.BackgroundTransparency = 1
logo.Font = Enum.Font.GothamBold
logo.TextSize = 42
logo.TextColor3 = Color3.fromRGB(255,255,255)
logo.Text = "⚡ YHub Premium"

local subtitle = Instance.new("TextLabel", loader)
subtitle.AnchorPoint = Vector2.new(0.5,0.5)
subtitle.Position = UDim2.new(0.5,0,0.4,0)
subtitle.Size = UDim2.new(0.8,0,0.05,0)
subtitle.BackgroundTransparency = 1
subtitle.Font = Enum.Font.GothamItalic
subtitle.TextSize = 22
subtitle.TextColor3 = Color3.fromRGB(160,160,200)
subtitle.Text = "Validating premium access..."

local progressBG = Instance.new("Frame", loader)
progressBG.AnchorPoint = Vector2.new(0.5,0.5)
progressBG.Position = UDim2.new(0.5,0,0.48,0)
progressBG.Size = UDim2.new(0.6,0,0.02,0)
progressBG.BackgroundColor3 = Color3.fromRGB(40,40,60)
progressBG.BorderSizePixel = 0
Instance.new("UICorner", progressBG).CornerRadius = UDim.new(0,8)

local progressFill = Instance.new("Frame", progressBG)
progressFill.Size = UDim2.new(0,0,1,0)
progressFill.BackgroundColor3 = Color3.fromRGB(90,200,255)
progressFill.BorderSizePixel = 0
Instance.new("UICorner", progressFill).CornerRadius = UDim.new(0,8)

task.spawn(function()
    for i=1,100 do
        progressFill.Size = UDim2.new(i/100,0,1,0)
        task.wait(0.02)
    end
    subtitle.Text = "Checking key system..."
    task.wait(1)

    progressBG.Visible = false
    progressFill.Visible = false

    local keyFrame = Instance.new("Frame", loader)
    keyFrame.AnchorPoint = Vector2.new(0.5,0.5)
    keyFrame.Position = UDim2.new(0.5,0,0.65,0)
    keyFrame.Size = UDim2.new(0.45,0,0.2,0)
    keyFrame.BackgroundColor3 = Color3.fromRGB(25,25,40)
    keyFrame.BorderSizePixel = 0
    Instance.new("UICorner", keyFrame).CornerRadius = UDim.new(0,12)
    Instance.new("UIStroke", keyFrame).Color = Color3.fromRGB(90,200,255)

    local keyBox = Instance.new("TextBox", keyFrame)
    keyBox.AnchorPoint = Vector2.new(0.5,0)
    keyBox.Position = UDim2.new(0.5,0,0.1,0)
    keyBox.Size = UDim2.new(0.9,0,0.3,0)
    keyBox.BackgroundColor3 = Color3.fromRGB(15,15,25)
    keyBox.Text = ""
    keyBox.PlaceholderText = "Enter your YHub key here"
    keyBox.TextColor3 = Color3.fromRGB(255,255,255)
    keyBox.Font = Enum.Font.Gotham
    keyBox.TextSize = 18
    Instance.new("UICorner", keyBox).CornerRadius = UDim.new(0,8)

    local getKey = Instance.new("TextButton", keyFrame)
    getKey.AnchorPoint = Vector2.new(0.5,0)
    getKey.Position = UDim2.new(0.25,0,0.55,0)
    getKey.Size = UDim2.new(0.4,0,0.3,0)
    getKey.BackgroundColor3 = Color3.fromRGB(70,70,90)
    getKey.Text = "Get Key"
    getKey.TextColor3 = Color3.fromRGB(255,255,255)
    getKey.Font = Enum.Font.GothamBold
    getKey.TextSize = 18
    Instance.new("UICorner", getKey).CornerRadius = UDim.new(0,8)

    local verify = Instance.new("TextButton", keyFrame)
    verify.AnchorPoint = Vector2.new(0.5,0)
    verify.Position = UDim2.new(0.75,0,0.55,0)
    verify.Size = UDim2.new(0.4,0,0.3,0)
    verify.BackgroundColor3 = Color3.fromRGB(90,200,255)
    verify.Text = "Verify"
    verify.TextColor3 = Color3.fromRGB(10,10,20)
    verify.Font = Enum.Font.GothamBold
    verify.TextSize = 18
    Instance.new("UICorner", verify).CornerRadius = UDim.new(0,8)

    verify.MouseButton1Click:Connect(function()
        subtitle.Text = "Verifying key..."
        verify.Text = "Checking..."
        task.wait(2.5)
        subtitle.Text = "Access Granted ✅"
        verify.Text = "Success!"
        task.wait(0.6)
        loader:TweenSize(UDim2.new(0,0,0,0),Enum.EasingDirection.Out,Enum.EasingStyle.Quad,0.8,true,function()
            loader:Destroy()
            hub.Visible = true
            orb.Visible = true
            toggleHub()
        end)
    end)

    getKey.MouseButton1Click:Connect(function()
        subtitle.Text = "Redirecting to key system..."
        task.wait(1.2)
        subtitle.Text = "Error: Try again later."
    end)
end)

-- Start
equipTaser()
autoTaseLoop()
