-- Karker GUI v2 (Roblox Lua)
-- Put this in StarterPlayerScripts > LocalScript

-- // SERVICES
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

-- // GUI SETUP
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KarkerGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 500, 0, 320)
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -160)
MainFrame.BackgroundColor3 = Color3.fromRGB(12, 8, 18)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- Rounded corners
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 12)

-- Title
local Title = Instance.new("TextLabel")
Title.Text = "Karker GUI v2 â€” ON TOP!"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.TextColor3 = Color3.fromRGB(200, 200, 255)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.Parent = MainFrame

-- Tab buttons container
local TabBar = Instance.new("Frame")
TabBar.Size = UDim2.new(1, 0, 0, 40)
TabBar.Position = UDim2.new(0, 0, 0, 40)
TabBar.BackgroundTransparency = 1
TabBar.Parent = MainFrame

local UIList = Instance.new("UIListLayout", TabBar)
UIList.FillDirection = Enum.FillDirection.Horizontal
UIList.SortOrder = Enum.SortOrder.LayoutOrder

-- Tab content frame
local ContentFrame = Instance.new("Frame")
ContentFrame.Size = UDim2.new(1, 0, 1, -80)
ContentFrame.Position = UDim2.new(0, 0, 0, 80)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = MainFrame

-- Function to create tabs
local Tabs = {}
local function CreateTab(name)
    local Button = Instance.new("TextButton")
    Button.Text = name
    Button.Font = Enum.Font.Gotham
    Button.TextSize = 16
    Button.Size = UDim2.new(0, 120, 1, 0)
    Button.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Parent = TabBar

    local Frame = Instance.new("Frame")
    Frame.Visible = false
    Frame.Size = UDim2.new(1, 0, 1, 0)
    Frame.BackgroundTransparency = 1
    Frame.Parent = ContentFrame

    Tabs[name] = Frame

    Button.MouseButton1Click:Connect(function()
        for _, f in pairs(Tabs) do f.Visible = false end
        Frame.Visible = true
    end)

    return Frame
end

-- MAIN TAB
local MainTab = CreateTab("Main")

local function CreateButton(parent, text, callback)
    local Btn = Instance.new("TextButton")
    Btn.Size = UDim2.new(0, 160, 0, 40)
    Btn.Text = text
    Btn.Font = Enum.Font.GothamBold
    Btn.TextSize = 14
    Btn.TextColor3 = Color3.new(1,1,1)
    Btn.BackgroundColor3 = Color3.fromRGB(100, 60, 200)
    Btn.Parent = parent
    Btn.MouseButton1Click:Connect(callback)
    Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 8)
    return Btn
end

-- Layout for buttons
local MainList = Instance.new("UIListLayout", MainTab)
MainList.Padding = UDim.new(0, 8)

-- Buttons
CreateButton(MainTab, "TP to Base", function()
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("HumanoidRootPart") then
        char.HumanoidRootPart.CFrame = CFrame.new(0, 10, 0) -- change coords for base
    end
end)

CreateButton(MainTab, "Instant Steal (WIP)", function()
    warn("Instant steal feature coming soon...")
end)

CreateButton(MainTab, "Anti-Steal", function()
    -- Example placeholder: anchor player
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("HumanoidRootPart") then
        char.HumanoidRootPart.Anchored = not char.HumanoidRootPart.Anchored
    end
end)

CreateButton(MainTab, "Server Hop", function()
    TeleportService:Teleport(game.PlaceId, LocalPlayer)
end)

-- SETTINGS TAB
local SettingsTab = CreateTab("Settings")

local ColorBtn = CreateButton(SettingsTab, "Randomize Theme", function()
    MainFrame.BackgroundColor3 = Color3.fromRGB(math.random(50,200), math.random(50,200), math.random(50,200))
end)

local BgBtn1 = CreateButton(SettingsTab, "Background 1", function()
    ScreenGui.BackgroundColor3 = Color3.fromRGB(0,0,0)
    ScreenGui.BackgroundTransparency = 0
    ScreenGui.BackgroundImage = "rbxassetid://YOUR_ID_FOR_GIF1"
end)

local BgBtn2 = CreateButton(SettingsTab, "Background 2", function()
    ScreenGui.BackgroundImage = "rbxassetid://YOUR_ID_FOR_GIF2"
end)

local BgBtn3 = CreateButton(SettingsTab, "Background 3", function()
    ScreenGui.BackgroundImage = "rbxassetid://YOUR_ID_FOR_GIF3"
end)

-- default show Main
MainTab.Visible = true
