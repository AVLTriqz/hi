--=============================================================
-- ⚡ YHub Premium v14 (Ultra Enhanced Edition)
-- Script Created by: YOUNG
--=============================================================

-- // Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- // CONFIG
local TASER_NAME = "Taser Gun"
local AUTO_TASE_RADIUS = 14
local HUB_WIDTH, HUB_HEIGHT = 340, 200
local autoTaseEnabled = false
local auraPart, fovCircle

-- // Sounds
local function createSound(id, vol)
    local s = Instance.new("Sound", PlayerGui)
    s.SoundId = "rbxassetid://" .. id
    s.Volume = vol or 0.4
    return s
end

local clickSound = createSound("9118831569", 0.5)
local openSound = createSound("12221967", 0.5)
local notifSound = createSound("9119136260", 0.4)

-- // Utility
local function equipTaser()
    local tool = ReplicatedStorage:FindFirstChild(TASER_NAME)
    if tool then
        local backpack = LocalPlayer:WaitForChild("Backpack")
        if not backpack:FindFirstChild(TASER_NAME) then
            tool:Clone().Parent = backpack
        end
    end
end

-- Aura + FOV
local function createAura()
    if auraPart then auraPart:Destroy() end
    auraPart = Instance.new("Part")
    auraPart.Size = Vector3.new(AUTO_TASE_RADIUS*2, AUTO_TASE_RADIUS*2, AUTO_TASE_RADIUS*2)
    auraPart.Anchored, auraPart.CanCollide, auraPart.Material = true, false, Enum.Material.Neon
    auraPart.Shape, auraPart.Transparency, auraPart.Parent = Enum.PartType.Ball, 0.6, workspace
    spawn(function()
        local t=0
        while auraPart and auraPart.Parent do
            t += 0.01
            auraPart.Color = Color3.fromHSV(t%1,0.9,1)
            local char = LocalPlayer.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                auraPart.CFrame = char.HumanoidRootPart.CFrame
            end
            RunService.RenderStepped:Wait()
        end
    end)
end

local function createFOVCircle()
    if fovCircle then fovCircle:Destroy() end
    fovCircle = Instance.new("Part")
    fovCircle.Anchored, fovCircle.CanCollide, fovCircle.Material = true, false, Enum.Material.Neon
    fovCircle.Size, fovCircle.Shape, fovCircle.Transparency, fovCircle.Parent = Vector3.new(AUTO_TASE_RADIUS*2,0.2,AUTO_TASE_RADIUS*2), Enum.PartType.Cylinder, 0.5, workspace
    spawn(function()
        local t=0
        while fovCircle and fovCircle.Parent do
            t += 0.01
            fovCircle.Color = Color3.fromHSV(t%1,0.9,1)
            local char = LocalPlayer.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                fovCircle.CFrame = CFrame.new(char.HumanoidRootPart.Position + Vector3.new(0,0.3,0)) * CFrame.Angles(math.rad(90),0,0)
            end
            RunService.RenderStepped:Wait()
        end
    end)
end

-- Auto-tase
local function autoTaseLoop()
    spawn(function()
        while true do
            RunService.RenderStepped:Wait()
            if autoTaseEnabled then
                local char = LocalPlayer.Character
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                if hrp then
                    if not auraPart then createAura() end
                    if not fovCircle then createFOVCircle() end
                    local taser = LocalPlayer.Backpack:FindFirstChild(TASER_NAME) or (char and char:FindFirstChild(TASER_NAME))
                    if taser then
                        for _,pl in ipairs(Players:GetPlayers()) do
                            if pl ~= LocalPlayer and pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") then
                                if (hrp.Position - pl.Character.HumanoidRootPart.Position).Magnitude <= AUTO_TASE_RADIUS then
                                    taser:Activate()
                                end
                            end
                        end
                    end
                end
            else
                if auraPart then auraPart:Destroy(); auraPart=nil end
                if fovCircle then fovCircle:Destroy(); fovCircle=nil end
            end
        end
    end)
end

-- // GUI
local screenGui = Instance.new("ScreenGui", PlayerGui)
screenGui.IgnoreGuiInset, screenGui.ResetOnSpawn = true, false

-- Watermark
local watermark = Instance.new("TextLabel", screenGui)
watermark.Size, watermark.Position = UDim2.new(0,200,0,20), UDim2.new(1,-210,1,-30)
watermark.BackgroundTransparency = 1
watermark.Text, watermark.Font, watermark.TextSize = "⚡ YHub Premium | by YOUNG", Enum.Font.GothamItalic, 14
watermark.TextColor3 = Color3.fromRGB(150,150,255)

-- Movable Toggle Button
local toggleButton = Instance.new("TextButton", screenGui)
toggleButton.Size = UDim2.new(0,100,0,40)
toggleButton.Position = UDim2.new(0.05,0,0.8,0)
toggleButton.Text, toggleButton.Font, toggleButton.TextSize = "YHub ⚡", Enum.Font.GothamBold, 18
toggleButton.BackgroundColor3, toggleButton.TextColor3 = Color3.fromRGB(40,40,55), Color3.fromRGB(255,255,255)
Instance.new("UICorner", toggleButton).CornerRadius = UDim.new(0,12)
local dragging, dragInput, dragStart, startPos
toggleButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType==Enum.UserInputType.Touch then
        dragging, dragStart, startPos = true, input.Position, toggleButton.Position
        input.Changed:Connect(function() if input.UserInputState==Enum.UserInputState.End then dragging=false end end)
    end
end)
toggleButton.InputChanged:Connect(function(input) if input.UserInputType==Enum.UserInputType.MouseMovement or input.UserInputType==Enum.UserInputType.Touch then dragInput=input end end)
RunService.RenderStepped:Connect(function()
    if dragging and dragInput then
        local delta = dragInput.Position - dragStart
        toggleButton.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset+delta.X, startPos.Y.Scale, startPos.Y.Offset+delta.Y)
    end
end)

-- Hub Frame
local hub = Instance.new("Frame", screenGui)
hub.Size = UDim2.new(0,HUB_WIDTH,0,HUB_HEIGHT)
hub.Position = UDim2.new(0.5,-HUB_WIDTH/2,0.5,-HUB_HEIGHT/2)
hub.BackgroundColor3, hub.Visible = Color3.fromRGB(25,25,35), false
Instance.new("UICorner", hub).CornerRadius = UDim.new(0,18)
local stroke = Instance.new("UIStroke", hub)
stroke.Thickness, stroke.Color = 2, Color3.fromRGB(0,255,255)

-- Title
local title = Instance.new("TextLabel", hub)
title.Size = UDim2.new(1,0,0,40)
title.Text, title.Font, title.TextSize = "⚡ YHub Premium", Enum.Font.GothamBold, 24
title.BackgroundTransparency, title.TextColor3 = 1, Color3.fromRGB(255,255,255)

-- Auto-tase Toggle
local autoBtn = Instance.new("TextButton", hub)
autoBtn.Size, autoBtn.Position = UDim2.new(0.6,0,0.2,0), UDim2.new(0.2,0,0.5,0)
autoBtn.Text, autoBtn.Font, autoBtn.TextSize = "AUTO-TASE: OFF", Enum.Font.GothamBold, 20
autoBtn.BackgroundColor3, autoBtn.TextColor3 = Color3.fromRGB(60,60,85), Color3.fromRGB(255,255,255)
Instance.new("UICorner", autoBtn).CornerRadius = UDim.new(0,12)
autoBtn.MouseButton1Click:Connect(function()
    autoTaseEnabled = not autoTaseEnabled
    autoBtn.Text = "AUTO-TASE: "..(autoTaseEnabled and "ON" or "OFF")
    clickSound:Play()
end)

-- Credits label
local credits = Instance.new("TextLabel", hub)
credits.Size, credits.Position = UDim2.new(1,0,0,20), UDim2.new(0,0,1,-22)
credits.BackgroundTransparency = 1
credits.Text, credits.Font, credits.TextSize = "Made with ⚡ by YOUNG", Enum.Font.GothamItalic, 14
credits.TextColor3 = Color3.fromRGB(200,200,200)

-- Open/Close Animation
local hubOpen = false
local function toggleHub()
    hubOpen = not hubOpen
    if hubOpen then
        hub.Visible = true
        hub.Size = UDim2.new(0,HUB_WIDTH*0.2,0,HUB_HEIGHT*0.2)
        TweenService:Create(hub,TweenInfo.new(0.3,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Size=UDim2.new(0,HUB_WIDTH,0,HUB_HEIGHT)}):Play()
        openSound:Play()
    else
        TweenService:Create(hub,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.In),{Size=UDim2.new(0,0,0,0)}):Play()
        task.delay(0.25,function() if not hubOpen then hub.Visible=false end end)
    end
end
toggleButton.MouseButton1Click:Connect(toggleHub)

-- Notifications
local function notify(msg)
    notifSound:Play()
    local n = Instance.new("TextLabel", screenGui)
    n.Size, n.Position = UDim2.new(0,240,0,40), UDim2.new(0.5,-120,0.9,0)
    n.BackgroundColor3, n.TextColor3 = Color3.fromRGB(30,30,45), Color3.fromRGB(255,255,255)
    n.Font, n.TextSize, n.Text = Enum.Font.GothamBold, 18, msg
    Instance.new("UICorner", n).CornerRadius = UDim.new(0,10)
    TweenService:Create(n,TweenInfo.new(0.3),{Position=UDim2.new(0.5,-120,0.8,0)}):Play()
    task.delay(3,function() TweenService:Create(n,TweenInfo.new(0.3),{Position=UDim2.new(0.5,-120,1.2,0)}):Play(); task.wait(0.3); n:Destroy() end)
end

-- Loading Screen
local loading = Instance.new("TextLabel", screenGui)
loading.Size, loading.Position = UDim2.new(1,0,1,0), UDim2.new(0,0,0,0)
loading.BackgroundColor3 = Color3.fromRGB(15,15,25)
loading.Text, loading.Font, loading.TextSize = "⚡ Loading YHub Premium...", Enum.Font.GothamItalic, 28
loading.TextColor3 = Color3.fromRGB(255,255,255)
TweenService:Create(loading,TweenInfo.new(2),{TextTransparency=1}):Play()
task.delay(2.2,function() loading:Destroy() end)

-- Start
equipTaser()
autoTaseLoop()
notify("✅ YHub Premium Loaded! | Script by YOUNG")
